<!doctype html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <meta name="description" content="Portal de Transporte da AC Parceria e Terraplenagem">
  <meta name="theme-color" content="#b00000" />
  <title>AC Parceria - Portal de Transporte</title>
  
  <!-- PWA -->
  <link rel="manifest" href="manifest.json">
  <link rel="icon" href="logo.jpg" type="image/jpg">
  
  <!-- CSS externo -->
  <link rel="stylesheet" href="styles.css">
  
  <!-- JS externo -->
  <script src="app.js" defer></script>
</head>
<body>

<header>
  <img src="logo.jpg" alt="AC Logo" class="logo" />
  <h1>AC PARCERIA E TERRAPLENAGEM ‚Äî Portal de Transporte</h1>
</header>

<div class="top-actions container">
  <div>
    <button class="icon-btn" id="installBtn" style="display:none" aria-label="Instalar aplicativo">
      üì• Instalar
    </button>
  </div>
  <div>
    <button class="icon-btn" id="darkToggle" title="Alternar tema" aria-label="Alternar tema claro/escuro">
      üåô
    </button>
  </div>
</div>

<main class="container">
  <!-- TELA DE BOAS VINDAS -->
  <section id="welcome" class="welcome" aria-labelledby="welcomeTitle">
    <img src="avatar.png" class="avatar" alt="Avatar AC" />
    <div>
      <h2 id="welcomeTitle">Bem-vindo ao Portal de Transporte</h2>
      <p>Rotas, registro de entrada/sa√≠da e avisos oficiais da <strong>AC Parceria e Terraplenagem</strong>.</p>
      <p class="card" style="margin-top:12px">
        ‚è±Ô∏è <strong>Importante:</strong> O formul√°rio de controle de ve√≠culo deve ser preenchido <strong>2√ó ao dia</strong> ‚Äî ao iniciar a jornada (entrada) e ao finalizar (sa√≠da).
      </p>
      <button class="btn" onclick="enterApp()" aria-label="Entrar no portal">
        Entrar no Portal
      </button>
    </div>
  </section>

  <!-- MENU PRINCIPAL -->
  <section id="mainMenu" style="display:none" aria-label="Menu principal">
    <h2>Menu</h2>
    
    <div class="card">
      <a class="btn" href="https://forms.gle/UDniKxPqcMKGUhFQA" target="_blank" rel="noopener noreferrer">
        üìã Preencher Controle de Ve√≠culo (Entrada / Sa√≠da)
      </a>
      <small class="note">Use ao iniciar e ao terminar sua jornada. Obrigat√≥rio todos os dias.</small>
    </div>

    <div class="card">
      <button class="btn" onclick="openModal('avisosModal')">
        üì¢ Avisos & Comunicados
      </button>
      <small class="note">Leia sempre antes de iniciar a rota.</small>
    </div>

    <div class="card">
      <button class="btn" onclick="openSection('rotasSection')">
        üó∫Ô∏è Selecionar Rota
      </button>
      <small class="note">Selecione a rota que ir√° conduzir ‚Äî ao clicar, abre o Google Maps com navega√ß√£o.</small>
    </div>

    <div class="card">
      <button class="btn secondary" onclick="openModal('ajudaModal')">
        ‚ùì Ajuda / Explica√ß√£o dos Bot√µes
      </button>
      <small class="note">Instru√ß√µes r√°pidas e contatos de suporte.</small>
    </div>
  </section>

  <!-- ROTAS -->
  <section id="rotasSection" style="display:none" aria-label="Sele√ß√£o de rotas">
    <h2>Rotas Dispon√≠veis</h2>
    <p>Selecione abaixo a rota que voc√™ ir√° conduzir:</p>

    <div class="routes" style="margin-top:12px">
      <div class="route-item">
        <div class="route-info">
          <div style="font-weight:800">ROTA 01 ‚Äî (Colaboradores / Base)</div>
          <small style="color:#666">Dura√ß√£o estimada: 30 Minutos‚è± ‚Äî Paradas: ‚Ä¢ </small>
        </div>
        <a class="btn" href="https://maps.app.goo.gl/Z199k9ygiooHTh3p6" target="_blank" rel="noopener noreferrer">
          Abrir no Maps
        </a>
      </div>
    </div>

    <div style="margin-top:18px">
      <button class="btn" onclick="backToMenu()">Voltar</button>
    </div>
  </section>
</main>

<!-- MODAIS -->
<div id="avisosModalBack" class="modal-back" aria-hidden="true" style="display:none">
  <div class="modal">
    <button class="close" onclick="closeModal('avisosModalBack')" aria-label="Fechar">‚úï</button>
    <h3>Avisos Importantes</h3>
    <ul>
      <li>Preencher o Controle de Ve√≠culo 2√ó ao dia (entrada e sa√≠da).</li>
      <li>Mantenha comunica√ß√£o constante com a gest√£o em caso de desvios.</li>
      <li>Relatar imediatamente qualquer avaria ou irregularidade do ve√≠culo.</li>
      <li>N√£o alterar rota sem autoriza√ß√£o do setor de opera√ß√µes.</li>
    </ul>
    <div style="margin-top:12px">
      <button class="btn" onclick="closeModal('avisosModalBack')">Fechar</button>
    </div>
  </div>
</div>

<div id="ajudaModalBack" class="modal-back" aria-hidden="true" style="display:none">
  <div class="modal">
    <button class="close" onclick="closeModal('ajudaModalBack')" aria-label="Fechar">‚úï</button>
    <h3>Ajuda & Explica√ß√£o dos Bot√µes</h3>
    <p><strong>Preencher Controle de Ve√≠culo:</strong> Abre o formul√°rio obrigat√≥rio (Google Forms). Preencher na entrada e na sa√≠da.</p>
    <p><strong>Selecionar Rota:</strong> Mostra as rotas publicadas pela gest√£o; ao clicar em "Abrir no Maps" o Google Maps ser√° aberto com a rota pronta.</p>
    <p><strong>Avisos:</strong> Comunicados importantes e mudan√ßas operacionais ‚Äî leia sempre antes de iniciar.</p>
    <p><strong>Instalar / Adicionar √† Tela Inicial:</strong> Permite transformar o site em um app no celular do motorista.</p>
    <div style="margin-top:12px">
      <button class="btn" onclick="closeModal('ajudaModalBack')">Fechar</button>
    </div>
  </div>
</div>

</body>
</html>
